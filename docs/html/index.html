<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>commercetools.Sdk: Composable Commerce .NET SDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ct-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">commercetools.Sdk
   </div>
   <div id="projectbrief">The commercetools platform, import-api and C# sdks generated from our api reference.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Composable Commerce .NET SDK </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> </p>
<h1><a class="anchor" id="autotoc_md10"></a>
Introduction</h1>
<p>This repository contains the .NET SDKs generated from the Composable Commerce API reference.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
Packages</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Package   </th><th class="markdownTableHeadNone">Version    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">HTTP API   </td><td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.Api"><img src="https://buildstats.info/nuget/commercetools.Sdk.Api?includePreReleases=true" alt="NuGet Version and Downloads count" class="inline"/></a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Import API   </td><td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.ImportApi"><img src="https://buildstats.info/nuget/commercetools.Sdk.ImportApi?includePreReleases=true" alt="NuGet Version and Downloads count" class="inline"/></a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Change History API   </td><td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.HistoryApi"><img src="https://buildstats.info/nuget/commercetools.Sdk.HistoryApi?includePreReleases=true" alt="NuGet Version and Downloads count" class="inline"/></a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md12"></a>
Example and Training material</h1>
<p>Feel free to explore these examples using this SDK for calling the Composable Commerce HTTP API, and Import API. <a href="https://github.com/commercetools/commercetools-dotnet-sdk-training/tree/Training-SDKV2">.NET Core SDK Training for V2 SDK</a></p>
<h1><a class="anchor" id="autotoc_md13"></a>
Installation</h1>
<h3><a class="anchor" id="autotoc_md14"></a>
Download from &lt;a href="https://www.nuget.org/profiles/commercetools" &gt;Nuget&lt;/a&gt;</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Package   </th><th class="markdownTableHeadNone">Installation    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.Api">HTTP API</a>   </td><td class="markdownTableBodyNone"><code>dotnet add package <a class="el" href="d0/d46/namespacecommercetools_1_1_sdk_1_1_api.html">commercetools.Sdk.Api</a></code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.ImportApi">Import API</a>   </td><td class="markdownTableBodyNone"><code>dotnet add package <a class="el" href="d7/d6f/namespacecommercetools_1_1_sdk_1_1_import_api.html">commercetools.Sdk.ImportApi</a></code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://www.nuget.org/packages/commercetools.Sdk.HistoryApi">Change History API</a>   </td><td class="markdownTableBodyNone"><code>dotnet add package <a class="el" href="d8/da4/namespacecommercetools_1_1_sdk_1_1_history_api.html">commercetools.Sdk.HistoryApi</a></code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md15"></a>
Technical Overview</h1>
<p>The SDK consists of the following projects:</p><ul>
<li><code>commercetools.Base.Abstractions</code>: Contains common classes and interfaces that can be used in other SDK projects like IClient and ISerializerService.</li>
<li><code><a class="el" href="d4/d7f/namespacecommercetools_1_1_base_1_1_client.html">commercetools.Base.Client</a></code>: Contains CtpClient which communicate with Composable Commerce to execute requests, it contains also the classes related to the client like tokens,middlewares and handlers.</li>
<li><code><a class="el" href="d7/d99/namespacecommercetools_1_1_base_1_1_registration.html">commercetools.Base.Registration</a></code>: Helper classes for things like types retriever.</li>
<li><code><a class="el" href="d8/d12/namespacecommercetools_1_1_base_1_1_serialization.html">commercetools.Base.Serialization</a></code>: Serialization and deserialization services for responses and requests to the HTTP API using System.Text.Json.</li>
<li><code><a class="el" href="d0/d46/namespacecommercetools_1_1_sdk_1_1_api.html">commercetools.Sdk.Api</a></code>: Contains all generated models and request builders to communicate with <a href="https://docs.commercetools.com/http-api.html">Composable Commerce HTTP API</a>.</li>
<li><code><a class="el" href="d7/d6f/namespacecommercetools_1_1_sdk_1_1_import_api.html">commercetools.Sdk.ImportApi</a></code>: Contains all generated models and request builders to communicate with the <a href="https://docs.commercetools.com/import-api/">Import API</a>.</li>
<li><code><a class="el" href="d8/da4/namespacecommercetools_1_1_sdk_1_1_history_api.html">commercetools.Sdk.HistoryApi</a></code>: Contains all generated models and request builders to communicate with the <a href="https://docs.commercetools.com/api/history/change-history">Change History API</a>.</li>
<li><code>commercetools.Sdk.GraphQL.Api</code>: Contains a type safe GraphQL client to communicate with <a href="https://docs.commercetools.com/http-api.html">Composable Commerce HTTP API</a>.</li>
</ul>
<p>In addition, the SDK has the following directories:</p><ul>
<li><code>/IntegrationTests</code>: Integration tests for the SDK. A good way for anyone using the .NET SDK to understand it further.</li>
<li><code>/Tests</code>: Unit Tests for serialization and request builders.</li>
<li><code>/Examples</code>:<ol type="1">
<li><code>commercetools.Api.ConsoleApp</code> as an example of how to use the SDK in a console app and create a client using ClientFactory.</li>
<li><code>commercetools.Api.CheckoutApp</code>, <a href="https://github.com/commercetools/commercetools-dotnet-core-sdk-v2/tree/master/commercetools.Sdk/Examples/commercetools.Api.CheckoutApp">the example</a> is developed to illustrate how to deal with the me endpoints, like listing and adding products to cart as anonymous user, user can login and switch to password token flow, it's storing the token in the cookie right now, cookies only used as POC, it maybe not the best option for production purposes.</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md16"></a>
Getting Started with the .NET SDK</h1>
<p>All operations (get, query, create, update, delete and others) are available in the generated request builders, so you can build the request and use the client to execute it and all the request builders accessible through ApiRoot. In order to use the client object, it needs to be setup first through dependency injection setup.</p>
<h2><a class="anchor" id="autotoc_md17"></a>
Basic Workflow</h2>
<p>At a high level, to make a basic call to the API, do the following:</p>
<ol type="1">
<li>Use the dependency injection class to set things up.</li>
<li>get a client object from the services responsible for calling requests to the API</li>
<li>use the ApiRoot instance inside the client and identify the project-key.</li>
<li>If needed - Create a draft object as a required for the request based on the documentation.</li>
<li>Build your request and execute it using ExecuteAsync.</li>
<li>Receive the response as a model.</li>
</ol>
<h3><a class="anchor" id="autotoc_md18"></a>
Dependency Injection Setup</h3>
<p>In the ConfigureServices method of Startup.cs add the following:</p>
<ul>
<li><code>Composable Commerce HTTP API</code>: <div class="fragment"><div class="line">services.UseCommercetoolsApi(this.configuration, <span class="stringliteral">&quot;Client&quot;</span>); <span class="comment">// replace with your instance of IConfiguration</span></div>
</div><!-- fragment --></li>
<li><code>Import API</code>: <div class="fragment"><div class="line">services.UseCommercetoolsImportApi(this.configuration, <span class="stringliteral">&quot;ImportClient&quot;</span>);</div>
</div><!-- fragment --></li>
<li><code>Change History API</code>: <div class="fragment"><div class="line">services.UseCommercetoolsHistoryApi(this.configuration, <span class="stringliteral">&quot;HistoryClient&quot;</span>);</div>
</div><!-- fragment --></li>
</ul>
<h4><a class="anchor" id="autotoc_md19"></a>
Configuration</h4>
<p>The client configuration needs to be added to appsettings.json in order for the client to work. The structure is as follows:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;Client&quot;</span>: {</div>
<div class="line">        <span class="stringliteral">&quot;ClientId&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <span class="comment">// replace with your client ID</span></div>
<div class="line">        <span class="stringliteral">&quot;ClientSecret&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <span class="comment">// replace with your client secret</span></div>
<div class="line">        <span class="stringliteral">&quot;AuthorizationBaseAddress&quot;</span>: <span class="stringliteral">&quot;https://auth.europe-west1.gcp.commercetools.com/&quot;</span>, <span class="comment">// replace if needed</span></div>
<div class="line">        <span class="stringliteral">&quot;Scope&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <span class="comment">// replace with your scope</span></div>
<div class="line">        <span class="stringliteral">&quot;ProjectKey&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <span class="comment">// replace with your project key</span></div>
<div class="line">        <span class="stringliteral">&quot;ApiBaseAddress&quot;</span>: <span class="stringliteral">&quot;https://api.europe-west1.gcp.commercetools.com/&quot;</span>  <span class="comment">// replace if needed</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md20"></a>
Getting instance of ApiRoot</h4>
<p>you can use the instance inside the injected client or use ApiFactory to create a new instance.</p><ul>
<li><code>Composable Commerce HTTP API</code>: <div class="fragment"><div class="line">var root1 = client.WithApi();</div>
<div class="line">var root2 = ApiFactory.Create(client);</div>
</div><!-- fragment --></li>
<li><code>Import API</code>: <div class="fragment"><div class="line">var root1 = client.WithImportApi();</div>
<div class="line">var root2 = ImportApiFactory.Create(client);</div>
</div><!-- fragment --></li>
<li><code>Change History API</code>: <div class="fragment"><div class="line">var root1 = client.WithHistoryApi();</div>
<div class="line">var root2 = HistoryApiFactory.Create(client);</div>
</div><!-- fragment --></li>
</ul>
<h4><a class="anchor" id="autotoc_md21"></a>
Getting instance of ProjectApiRoot</h4>
<p>The ProjectApiRoot is scoped to the projectKey in order to not have to provide the project for building requests. You can use the instance inside the injected client or use ApiFactory to create a new instance.</p>
<ul>
<li><code>Composable Commerce HTTP API</code>: <div class="fragment"><div class="line">ProjectApiRoot root1 = client.WithProject(projectKey);</div>
<div class="line">ProjectApiRoot root2 = ApiFactory.Create(client, projectKey);</div>
</div><!-- fragment --></li>
<li><code>Import API</code>: <div class="fragment"><div class="line">ProjectApiRoot root1 = client.WithImportApi(projectKey);</div>
<div class="line">ProjectApiRoot root2 = ImportApiFactory.Create(client, projectKey);</div>
</div><!-- fragment --></li>
<li><code>Change History API</code>: <div class="fragment"><div class="line">ProjectApiRoot root1 = client.WithHistoryApi(projectKey);</div>
<div class="line">ProjectApiRoot root2 = HistoryApiFactory.Create(client, projectKey);</div>
</div><!-- fragment --></li>
</ul>
<p>When using the UseCommercetools methods a ProjectApiRoot will be registered to the ServiceProvider using the project key given in the configuration</p>
<h2><a class="anchor" id="autotoc_md22"></a>
Multiple Clients</h2>
<p>It is possible to use more than one client in the same application with different token providers. The following code can be used to set it up 2 clients with the default ClientCredentials token provider:</p>
<div class="fragment"><div class="line">services.UseCommercetoolsApi(configuration,</div>
<div class="line">                <span class="keyword">new</span> List&lt;string&gt;{<span class="stringliteral">&quot;AdminClient&quot;</span>, <span class="stringliteral">&quot;StoreClient&quot;</span>},</div>
<div class="line">                CreateTokenProvider);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> <span class="keyword">static</span> ITokenProvider CreateTokenProvider(<span class="keywordtype">string</span> clientName, IConfiguration configuration, IServiceProvider serviceProvider)</div>
<div class="line">        {</div>
<div class="line">            var httpClientFactory = serviceProvider.GetService&lt;IHttpClientFactory&gt;();</div>
<div class="line">            var clientConfiguration = configuration.GetSection(clientName).Get&lt;ClientConfiguration&gt;();</div>
<div class="line">            <span class="keywordflow">return</span> TokenProviderFactory.CreateClientCredentialsTokenProvider(clientConfiguration, httpClientFactory);</div>
<div class="line">        }</div>
</div><!-- fragment --><p>you can choose different token provider based on the clientName, Also The appsettings.json then needs to contain the configuration sections named the same. The clients can then be injected by using IEnumerable and specific client can be selected by name. </p><div class="fragment"><div class="line"><span class="keyword">public</span> MyController(IEnumerable&lt;IClient&gt; clients)</div>
<div class="line">{</div>
<div class="line">    var storeClient = clients.FirstOrDefault(c =&gt; c.Name.Equals(<span class="stringliteral">&quot;StoreClient&quot;</span>));</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
Using SDK</h2>
<p>SDK follows a builder pattern when creating requests. Category resource will be used to demonstrate how to use the SDK. This behaviour is the same for all resources. The IClient interface can be used by injecting it and calling its ExecuteAsync method for different requests. </p><div class="fragment"><div class="line"><span class="keyword">private</span> readonly IClient client;</div>
<div class="line"><span class="keyword">public</span> CategoryController(IClient client)</div>
<div class="line">{</div>
<div class="line">    this.client = client;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">public</span> async Task CreatingRequests()</div>
<div class="line">{</div>
<div class="line">    var projectApiRoot = client.WithProject(<span class="stringliteral">&quot;project-key&quot;</span>)</div>
<div class="line">    <span class="comment">// Create CategoryDraft</span></div>
<div class="line">    var categoryDraft = <span class="keyword">new</span> CategoryDraft</div>
<div class="line">                {</div>
<div class="line">                    Name = <span class="keyword">new</span> LocalizedString {{<span class="stringliteral">&quot;en&quot;</span>, <span class="stringliteral">&quot;Name&quot;</span>}},</div>
<div class="line">                    Slug = <span class="keyword">new</span> LocalizedString {{<span class="stringliteral">&quot;en&quot;</span>, <span class="stringliteral">&quot;Slug&quot;</span>}},</div>
<div class="line">                    <a class="code hl_enumvalue" href="d2/d35/namespacecommercetools_1_1_sdk_1_1_api_1_1_models_1_1_product_searches.html#a43663a41df0fdc8d245cbb667a5afd66a897356954c2cd3d41b221e3f24f99bba">Key</a> = <span class="stringliteral">&quot;Key&quot;</span></div>
<div class="line">                };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Use in the previous step configured client instance to send and receive a newly created Category</span></div>
<div class="line">     var category = await projectApiRoot</div>
<div class="line">                .Categories()</div>
<div class="line">                .Post(categoryDraft)</div>
<div class="line">                .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get Category by id</span></div>
<div class="line">    var queriedCategory = await projectApiRoot</div>
<div class="line">                .Categories()</div>
<div class="line">                .WithId(category.Id)</div>
<div class="line">                .Get()</div>
<div class="line">                .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Get Category by key</span></div>
<div class="line">    var queriedCategory = await projectApiRoot</div>
<div class="line">                .Categories()</div>
<div class="line">                .WithKey(category.Key)</div>
<div class="line">                .Get()</div>
<div class="line">                .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Query Categories</span></div>
<div class="line">    var response = await projectApiRoot</div>
<div class="line">            .Categories()</div>
<div class="line">            .Get()</div>
<div class="line">            .WithWhere($<span class="stringliteral">&quot;key = \&quot;{category.Key}\&quot;&quot;</span>)</div>
<div class="line">            .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Delete Category by id</span></div>
<div class="line">    var deletedCategory = await projectApiRoot</div>
<div class="line">            .Categories()</div>
<div class="line">            .WithId(category.Id)</div>
<div class="line">            .Delete()</div>
<div class="line">            .WithVersion(category.version)</div>
<div class="line">            .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Update Category</span></div>
<div class="line">    var newName = <span class="stringliteral">&quot;newName&quot;</span>;</div>
<div class="line">    var action = <span class="keyword">new</span> CategoryChangeNameAction</div>
<div class="line">                    {</div>
<div class="line">                        Name = <span class="keyword">new</span> LocalizedString {{<span class="stringliteral">&quot;en&quot;</span>, newName}}</div>
<div class="line">                    };</div>
<div class="line">    var update = <span class="keyword">new</span> CategoryUpdate</div>
<div class="line">                    {</div>
<div class="line">                        Version = category.Version,</div>
<div class="line">                        Actions = <span class="keyword">new</span> List&lt;ICategoryUpdateAction&gt; {action}</div>
<div class="line">                    };</div>
<div class="line"> </div>
<div class="line">    var updatedCategory = await projectApiRoot</div>
<div class="line">            .Categories()</div>
<div class="line">            .WithId(category.Id)</div>
<div class="line">            .Post(categoryUpdate)</div>
<div class="line">            .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Delete Category by key</span></div>
<div class="line">    var deletedCategory = await projectApiRoot</div>
<div class="line">            .Categories()</div>
<div class="line">            .WithKey(category.Key)</div>
<div class="line">            .Delete()</div>
<div class="line">            .WithVersion(category.Version)</div>
<div class="line">            .ExecuteAsync();</div>
<div class="line">    }</div>
<div class="ttc" id="anamespacecommercetools_1_1_sdk_1_1_api_1_1_models_1_1_product_searches_html_a43663a41df0fdc8d245cbb667a5afd66a897356954c2cd3d41b221e3f24f99bba"><div class="ttname"><a href="d2/d35/namespacecommercetools_1_1_sdk_1_1_api_1_1_models_1_1_product_searches.html#a43663a41df0fdc8d245cbb667a5afd66a897356954c2cd3d41b221e3f24f99bba">commercetools.Sdk.Api.Models.ProductSearches.ProductSearchFacetDistinctBucketSortBy.Key</a></div><div class="ttdeci">@ Key</div></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md24"></a>
Creating a client using ClientFactory</h2>
<p>You can get a client from injected services or you can create client on the fly using ClientFactory, the example below illustrate how to create a client with password TokenFlow to get customer's orders:</p>
<div class="fragment"><div class="line"><span class="keyword">private</span> readonly IServiceProvider serviceProvider;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span> CustomerController(IServiceProvider serviceProvider)</div>
<div class="line">{</div>
<div class="line">    this.serviceProvider = serviceProvider;</div>
<div class="line">}</div>
<div class="line"><span class="keyword">public</span> async Task ExecuteAsync()</div>
<div class="line">{</div>
<div class="line">    var email = <span class="stringliteral">&quot;customerEmail&quot;</span>;</div>
<div class="line">    var password = <span class="stringliteral">&quot;customerPassword&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    var configuration = serviceProvider.GetService&lt;IConfiguration&gt;();</div>
<div class="line">    var httpClientFactory = serviceProvider.GetService&lt;IHttpClientFactory&gt;();</div>
<div class="line">    var serializerService = serviceProvider.GetService&lt;SerializerService&gt;();</div>
<div class="line"> </div>
<div class="line">    var clientConfiguration = configuration.GetSection(<span class="stringliteral">&quot;MeClient&quot;</span>).Get&lt;ClientConfiguration&gt;();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Create passwordFlow TokenProvider</span></div>
<div class="line">    var passwordTokenProvider = TokenProviderFactory</div>
<div class="line">        .CreatePasswordTokenProvider(clientConfiguration,</div>
<div class="line">            httpClientFactory,</div>
<div class="line">            <span class="keyword">new</span> InMemoryUserCredentialsStoreManager(email, password));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Create MeClient</span></div>
<div class="line">    var meClient = ClientFactory.Create(</div>
<div class="line">        <span class="stringliteral">&quot;MeClient&quot;</span>,</div>
<div class="line">        clientConfiguration,</div>
<div class="line">        httpClientFactory,</div>
<div class="line">        serializerService,</div>
<div class="line">        passwordTokenProvider);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Get Customer Profile</span></div>
<div class="line">    var myProfile = await meClient.WithApi().WithProjectKey(<span class="stringliteral">&quot;project-key&quot;</span>)</div>
<div class="line">        .Me()</div>
<div class="line">        .Get()</div>
<div class="line">        .ExecuteAsync();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">//Get Customer Orders</span></div>
<div class="line">    var myOrders = await</div>
<div class="line">        meClient.WithApi()</div>
<div class="line">            .WithProjectKey(<span class="stringliteral">&quot;project-key&quot;</span>)</div>
<div class="line">            .Me()</div>
<div class="line">            .Orders()</div>
<div class="line">            .Get()</div>
<div class="line">            .ExecuteAsync();</div>
<div class="line">}</div>
</div><!-- fragment --><p> If you are going to create the client using the ClientFactory, don't forget to call SetupClient extension method <a href="https://github.com/commercetools/commercetools-dotnet-core-sdk-v2/blob/master/commercetools.Sdk/commercetools.Base.Client/DependencyInjectionSetup.cs#L92">here</a> while building the services container. This will attach the Default Handlers like ErrorHandler and LoggerHandler to the Client like below: </p><div class="fragment"><div class="line">services.SetupClient(</div>
<div class="line">                <span class="stringliteral">&quot;MeClient&quot;</span>,</div>
<div class="line">                errorTypeMapper =&gt; typeof(ErrorResponse),</div>
<div class="line">                s =&gt; s.GetService&lt;SerializerService&gt;()</div>
<div class="line">            );</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
Predicates</h2>
<ul>
<li><a class="el" href="d6/d45/md_docs_2_predicates.html">Query Predicate Builders</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
GraphQL</h2>
<ul>
<li><a class="el" href="dc/da2/md_docs_2_graph_q_l.html">GraphQL package</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md27"></a>
Migration Guidelines</h2>
<p>To migrate from the 1.x to the 2.x, there is a guideline below:</p><ul>
<li><a class="el" href="de/d55/md_docs_2_c_o_m_p_a_r_i_s_o_n.html">Migration guidelines from v1 to v2</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md28"></a>
Documentation</h2>
<ul>
<li><a href="https://commercetools.github.io/commercetools-dotnet-core-sdk-v2/docs/html/index.html">Documentation</a> </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
