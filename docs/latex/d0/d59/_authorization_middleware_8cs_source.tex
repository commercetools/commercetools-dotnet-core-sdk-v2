\hypertarget{_authorization_middleware_8cs_source}{}\doxysection{Authorization\+Middleware.\+cs}
\label{_authorization_middleware_8cs_source}\index{/Users/mgeorge/workspace/commercetools-\/dotnet-\/api-\/sdk/commercetools.Sdk/commercetools.Base.Client/Middlewares/AuthorizationMiddleware.cs@{/Users/mgeorge/workspace/commercetools-\/dotnet-\/api-\/sdk/commercetools.Sdk/commercetools.Base.Client/Middlewares/AuthorizationMiddleware.cs}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00001}00001 \textcolor{keyword}{using} System.Net.Http;}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00002}00002 \textcolor{keyword}{using} System.Threading;}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00003}00003 \textcolor{keyword}{using} System.Threading.Tasks;}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00004}00004 \textcolor{keyword}{using} \mbox{\hyperlink{namespacecommercetools}{commercetools}}.\mbox{\hyperlink{namespacecommercetools_1_1_base}{Base}}.\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client}{Client}}.\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client_1_1_domain}{Domain}};}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00005}00005 \textcolor{keyword}{using} \mbox{\hyperlink{namespacecommercetools}{commercetools}}.\mbox{\hyperlink{namespacecommercetools_1_1_base}{Base}}.\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client}{Client}}.\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client_1_1_tokens}{Tokens}};}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00006}00006 }
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00007}\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client_1_1_middlewares}{00007}} \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacecommercetools_1_1_base_1_1_client_1_1_middlewares}{commercetools.Base.Client.Middlewares}}}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00008}00008 \{}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00009}\mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_middlewares_1_1_authorization_middleware}{00009}}     \textcolor{keyword}{public} \textcolor{keyword}{class }\mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_middlewares_1_1_authorization_middleware}{AuthorizationMiddleware}} : \mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_middlewares_1_1_delegating_middleware}{DelegatingMiddleware}}}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00010}00010     \{}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00011}00011         \textcolor{keyword}{private} readonly \mbox{\hyperlink{interfacecommercetools_1_1_base_1_1_client_1_1_tokens_1_1_i_token_provider}{ITokenProvider}} \_tokenProvider;}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00012}00012 }
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00013}\mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_middlewares_1_1_authorization_middleware_a11001ca8f490d845ce13bed59a05f4df}{00013}}         \textcolor{keyword}{public} \mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_middlewares_1_1_authorization_middleware_a11001ca8f490d845ce13bed59a05f4df}{AuthorizationMiddleware}}(\mbox{\hyperlink{interfacecommercetools_1_1_base_1_1_client_1_1_tokens_1_1_i_token_provider}{ITokenProvider}} tokenProvider)}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00014}00014         \{}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00015}00015             this.\_tokenProvider = tokenProvider;}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00016}00016         \}}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00018}00018         \textcolor{keyword}{protected} \textcolor{keyword}{internal} \textcolor{keyword}{override} async Task<HttpResponseMessage> SendAsync(HttpRequestMessage request, CancellationToken cancellationToken)}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00019}00019         \{}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00020}00020             \mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_domain_1_1_token}{Token}} token = this.\_tokenProvider.\mbox{\hyperlink{classcommercetools_1_1_base_1_1_client_1_1_domain_1_1_token_a55ad4ecc2073eb789815f2d6c74e85c6}{Token}};}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00021}00021             request.Headers.Add(\textcolor{stringliteral}{"{}Authorization"{}}, \$\textcolor{stringliteral}{"{}Bearer \{token.AccessToken\}"{}});}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00022}00022             \textcolor{keywordflow}{return} await base.SendAsync(request, cancellationToken).ConfigureAwait(\textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00023}00023         \}}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00024}00024     \}}
\DoxyCodeLine{\Hypertarget{_authorization_middleware_8cs_source_l00025}00025 \}}

\end{DoxyCode}
